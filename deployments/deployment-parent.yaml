###
### A complete description of a Prefect Deployment for flow 'parent'
###
name: python
description: deployment using s3 storage
version: snapshot
# The work queue that will handle this deployment's runs
work_queue_name: default
work_pool_name: default-agent-pool
tags:
- s3
parameters: {}
schedule: null
is_schedule_active: null
infra_overrides:
  image: prefect-registry:5000/flow:latest
  image_pull_policy: Always
  customizations:
  - op: add
    path: /spec/template/spec/containers/0/env/-
    value:
      name: AWS_ACCESS_KEY_ID
      valueFrom:
        secretKeyRef:
          name: minio
          key: root-user
  - op: add
    path: /spec/template/spec/containers/0/env/-
    value:
      name: AWS_SECRET_ACCESS_KEY
      valueFrom:
        secretKeyRef:
          name: minio
          key: root-password
  service_account_name: prefect-flows
  finished_job_ttl: 300
infrastructure:
  type: kubernetes-job
  env: {}
  labels: {}
  name: null
  command: null
  image: prefecthq/prefect:2.13.0-python3.10
  namespace: default
  service_account_name: null
  image_pull_policy: null
  cluster_config: null
  job:
    apiVersion: batch/v1
    kind: Job
    metadata:
      labels: {}
    spec:
      template:
        spec:
          parallelism: 1
          completions: 1
          restartPolicy: Never
          containers:
          - name: prefect-job
            env: []
  customizations: []
  job_watch_timeout_seconds: null
  pod_watch_timeout_seconds: 60
  stream_output: true
  finished_job_ttl: null
  block_type_slug: kubernetes-job
  _block_type_slug: kubernetes-job

###
### DO NOT EDIT BELOW THIS LINE
###
flow_name: parent
manifest_path: null
storage:
  bucket_path: minio-flows
  aws_access_key_id: null
  aws_secret_access_key: null
  _is_anonymous: false
  _block_document_name: minio-flows
  _block_document_id: d203fee4-a18a-4c7e-8c11-717d4d68d4b9
  block_type_slug: s3
  _block_type_slug: s3
path: parent
entrypoint: flows/parent_flow.py:parent
parameter_openapi_schema:
  title: Parameters
  type: object
  properties: {}
  required: null
  definitions: null
timestamp: '2023-09-10T03:10:37.125300+00:00'
triggers: []
